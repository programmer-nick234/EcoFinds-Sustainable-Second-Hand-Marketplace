{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///E:/ODOO/hackathon_2.0/frontend/ecofinds_frontend/src/components/ProtectedRoute.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\ninterface ProtectedRouteProps {\r\n  children: React.ReactNode;\r\n  redirectTo?: string;\r\n  requireAuth?: boolean;\r\n}\r\n\r\nexport default function ProtectedRoute({ \r\n  children, \r\n  redirectTo = '/login',\r\n  requireAuth = true \r\n}: ProtectedRouteProps) {\r\n  const { isAuthenticated, loading } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!loading) {\r\n      if (requireAuth && !isAuthenticated) {\r\n        router.push(redirectTo);\r\n      } else if (!requireAuth && isAuthenticated) {\r\n        router.push('/landing');\r\n      }\r\n    }\r\n  }, [isAuthenticated, loading, requireAuth, redirectTo, router]);\r\n\r\n  // Show loading spinner while checking authentication\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  if (requireAuth && !isAuthenticated) {\r\n    return null; // Will redirect\r\n  }\r\n\r\n  if (!requireAuth && isAuthenticated) {\r\n    return null; // Will redirect\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAYe,SAAS,eAAe,EACrC,QAAQ,EACR,aAAa,QAAQ,EACrB,cAAc,IAAI,EACE;IACpB,MAAM,EAAE,eAAe,EAAE,OAAO,EAAE,GAAG,IAAA,+JAAO;IAC5C,MAAM,SAAS,IAAA,oKAAS;IAExB,IAAA,uOAAS,EAAC;QACR,IAAI,CAAC,SAAS;YACZ,IAAI,eAAe,CAAC,iBAAiB;gBACnC,OAAO,IAAI,CAAC;YACd,OAAO,IAAI,CAAC,eAAe,iBAAiB;gBAC1C,OAAO,IAAI,CAAC;YACd;QACF;IACF,GAAG;QAAC;QAAiB;QAAS;QAAa;QAAY;KAAO;IAE9D,qDAAqD;IACrD,IAAI,SAAS;QACX,qBACE,mQAAC;YAAI,WAAU;sBACb,cAAA,mQAAC;gBAAI,WAAU;;kCACb,mQAAC;wBAAI,WAAU;;;;;;kCACf,mQAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;IAIrC;IAGA,IAAI,eAAe,CAAC,iBAAiB;QACnC,OAAO,MAAM,gBAAgB;IAC/B;IAEA,IAAI,CAAC,eAAe,iBAAiB;QACnC,OAAO,MAAM,gBAAgB;IAC/B;IAEA,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///E:/ODOO/hackathon_2.0/frontend/ecofinds_frontend/src/lib/products.ts"],"sourcesContent":["import api from './api';\r\n\r\nexport interface Product {\r\n  id: number;\r\n  title: string;\r\n  description: string;\r\n  category: string;\r\n  price: string;\r\n  image?: string;\r\n  owner: number;\r\n  owner_username: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n  is_available: boolean;\r\n}\r\n\r\nexport interface CreateProductData {\r\n  title: string;\r\n  description: string;\r\n  category: string;\r\n  price: number;\r\n  image?: File;\r\n  is_available?: boolean;\r\n}\r\n\r\nexport interface UpdateProductData {\r\n  title?: string;\r\n  description?: string;\r\n  category?: string;\r\n  price?: number;\r\n  image?: File;\r\n  is_available?: boolean;\r\n}\r\n\r\nexport interface Category {\r\n  value: string;\r\n  label: string;\r\n}\r\n\r\nexport interface SearchFilters {\r\n  search?: string;\r\n  category?: string;\r\n  min_price?: number;\r\n  max_price?: number;\r\n  sort_by?: string;\r\n  page?: number;\r\n  page_size?: number;\r\n}\r\n\r\nexport interface SearchResponse {\r\n  results: Product[];\r\n  count: number;\r\n  page: number;\r\n  page_size: number;\r\n  total_pages: number;\r\n}\r\n\r\n// Helper function to get full image URL\r\nexport const getImageUrl = (imagePath?: string): string => {\r\n  if (!imagePath) return '';\r\n  if (imagePath.startsWith('http')) return imagePath;\r\n  return `http://localhost:8000${imagePath}`;\r\n};\r\n\r\nexport const productsService = {\r\n  async getProducts(filters?: SearchFilters): Promise<Product[]> {\r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (filters) {\r\n        Object.entries(filters).forEach(([key, value]) => {\r\n          if (value !== undefined && value !== null && value !== '') {\r\n            params.append(key, value.toString());\r\n          }\r\n        });\r\n      }\r\n      \r\n      const response = await api.get(`/products/?${params.toString()}`);\r\n      const data = response.data;\r\n      // Ensure we always return an array\r\n      return Array.isArray(data) ? data : ((data as { results?: Product[] }).results || []);\r\n    } catch (error: unknown) {\r\n      const errorMessage = error && typeof error === 'object' && 'response' in error \r\n        ? (error as any).response?.data?.detail || (error as any).message \r\n        : 'Failed to fetch products';\r\n      throw new Error(errorMessage || 'Failed to fetch products');\r\n    }\r\n  },\r\n\r\n  async searchProducts(filters: SearchFilters): Promise<SearchResponse> {\r\n    try {\r\n      const params = new URLSearchParams();\r\n      Object.entries(filters).forEach(([key, value]) => {\r\n        if (value !== undefined && value !== null && value !== '') {\r\n          params.append(key, value.toString());\r\n        }\r\n      });\r\n      \r\n      const response = await api.get(`/products/search/?${params.toString()}`);\r\n      return response.data;\r\n    } catch (error: unknown) {\r\n      const errorMessage = error && typeof error === 'object' && 'response' in error \r\n        ? (error as any).response?.data?.detail || (error as any).message \r\n        : 'Failed to search products';\r\n      throw new Error(errorMessage || 'Failed to search products');\r\n    }\r\n  },\r\n\r\n  async getProduct(id: number): Promise<Product> {\r\n    try {\r\n      const response = await api.get(`/products/${id}/`);\r\n      return response.data;\r\n    } catch (error: unknown) {\r\n      const errorMessage = error && typeof error === 'object' && 'response' in error \r\n        ? (error as any).response?.data?.detail || (error as any).message \r\n        : 'Failed to fetch product';\r\n      throw new Error(errorMessage || 'Failed to fetch product');\r\n    }\r\n  },\r\n\r\n  async createProduct(data: CreateProductData): Promise<Product> {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('title', data.title);\r\n      formData.append('description', data.description);\r\n      formData.append('category', data.category);\r\n      formData.append('price', data.price.toString());\r\n      if (data.image) {\r\n        formData.append('image', data.image);\r\n      }\r\n      if (data.is_available !== undefined) {\r\n        formData.append('is_available', data.is_available.toString());\r\n      }\r\n\r\n      const response = await api.post('/products/', formData);\r\n      return response.data;\r\n    } catch (error: unknown) {\r\n      const errorMessage = error && typeof error === 'object' && 'response' in error \r\n        ? (error as any).response?.data?.detail || (error as any).message \r\n        : 'Failed to create product';\r\n      throw new Error(errorMessage || 'Failed to create product');\r\n    }\r\n  },\r\n\r\n  async updateProduct(id: number, data: UpdateProductData): Promise<Product> {\r\n    try {\r\n      const formData = new FormData();\r\n      if (data.title) formData.append('title', data.title);\r\n      if (data.description) formData.append('description', data.description);\r\n      if (data.category) formData.append('category', data.category);\r\n      if (data.price !== undefined) formData.append('price', data.price.toString());\r\n      if (data.image) formData.append('image', data.image);\r\n      if (data.is_available !== undefined) formData.append('is_available', data.is_available.toString());\r\n\r\n      const response = await api.patch(`/products/${id}/`, formData);\r\n      return response.data;\r\n    } catch (error: unknown) {\r\n      const errorMessage = error && typeof error === 'object' && 'response' in error \r\n        ? (error as any).response?.data?.detail || (error as any).message \r\n        : 'Failed to update product';\r\n      throw new Error(errorMessage || 'Failed to update product');\r\n    }\r\n  },\r\n\r\n  async deleteProduct(id: number): Promise<void> {\r\n    try {\r\n      await api.delete(`/products/${id}/`);\r\n    } catch (error: unknown) {\r\n      const errorMessage = error && typeof error === 'object' && 'response' in error \r\n        ? (error as any).response?.data?.detail || (error as any).message \r\n        : 'Failed to delete product';\r\n      throw new Error(errorMessage || 'Failed to delete product');\r\n    }\r\n  },\r\n\r\n  async toggleProductAvailability(id: number): Promise<{ message: string; is_available: boolean }> {\r\n    try {\r\n      const response = await api.post(`/products/${id}/toggle-availability/`);\r\n      return response.data;\r\n    } catch (error: unknown) {\r\n      const errorMessage = error && typeof error === 'object' && 'response' in error \r\n        ? (error as any).response?.data?.detail || (error as any).message \r\n        : 'Failed to toggle product availability';\r\n      throw new Error(errorMessage || 'Failed to toggle product availability');\r\n    }\r\n  },\r\n\r\n  async getUserProducts(): Promise<Product[]> {\r\n    try {\r\n      const response = await api.get('/products/my-products/');\r\n      const data = response.data;\r\n      // Ensure we always return an array\r\n      return Array.isArray(data) ? data : ((data as { results?: Product[] }).results || []);\r\n    } catch (error: unknown) {\r\n      const errorMessage = error && typeof error === 'object' && 'response' in error \r\n        ? (error as any).response?.data?.detail || (error as any).message \r\n        : 'Failed to fetch user products';\r\n      throw new Error(errorMessage || 'Failed to fetch user products');\r\n    }\r\n  },\r\n\r\n  async getCategories(): Promise<Category[]> {\r\n    try {\r\n      const response = await api.get('/products/categories/');\r\n      return response.data;\r\n    } catch (error: unknown) {\r\n      const errorMessage = error && typeof error === 'object' && 'response' in error \r\n        ? (error as any).response?.data?.detail || (error as any).message \r\n        : 'Failed to fetch categories';\r\n      throw new Error(errorMessage || 'Failed to fetch categories');\r\n    }\r\n  }\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file:///E:/ODOO/hackathon_2.0/frontend/ecofinds_frontend/src/app/products/my-products/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport ProtectedRoute from '@/components/ProtectedRoute';\r\nimport { Plus, Edit, Trash2, Eye, EyeOff, AlertCircle, CheckCircle } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { getImageUrl, productsService } from '@/lib/products';\r\n\r\ninterface Product {\r\n  id: number;\r\n  title: string;\r\n  description: string;\r\n  category: string;\r\n  price: string;\r\n  image?: string;\r\n  is_available: boolean;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport default function MyProductsPage() {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [deletingId, setDeletingId] = useState<number | null>(null);\r\n  const { isAuthenticated } = useAuth();\r\n\r\n  // Fetch user's products\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const data = await productsService.getUserProducts();\r\n        setProducts(data);\r\n      } catch (err: unknown) {\r\n        const errorMessage = err instanceof Error ? err.message : 'Failed to load products';\r\n        setError(errorMessage);\r\n        setProducts([]); // Set empty array on error\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (isAuthenticated) {\r\n      fetchProducts();\r\n    }\r\n  }, [isAuthenticated]);\r\n\r\n  const handleDelete = async (productId: number) => {\r\n    if (!confirm('Are you sure you want to delete this product?')) {\r\n      return;\r\n    }\r\n\r\n    setDeletingId(productId);\r\n    try {\r\n      await productsService.deleteProduct(productId);\r\n      setProducts(products.filter(p => p.id !== productId));\r\n      setSuccess('Product deleted successfully');\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    } catch (err: unknown) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Failed to delete product';\r\n      setError(errorMessage);\r\n    } finally {\r\n      setDeletingId(null);\r\n    }\r\n  };\r\n\r\n  const handleToggleAvailability = async (productId: number) => {\r\n    try {\r\n      const data = await productsService.toggleProductAvailability(productId);\r\n      setProducts(products.map(p => \r\n        p.id === productId \r\n          ? { ...p, is_available: data.is_available }\r\n          : p\r\n      ));\r\n      setSuccess(data.message);\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    } catch (err: unknown) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Failed to update product status';\r\n      setError(errorMessage);\r\n    }\r\n  };\r\n\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Authentication Required</h2>\r\n          <p className=\"text-gray-600 mb-6\">Please log in to view your products.</p>\r\n          <Link\r\n            href=\"/login\"\r\n            className=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700\"\r\n          >\r\n            Login\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading your products...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ProtectedRoute>\r\n      <div className=\"min-h-screen bg-gray-50 py-8\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          {/* Header */}\r\n          <div className=\"mb-8\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h1 className=\"text-3xl font-bold text-gray-900\">My Products</h1>\r\n                <p className=\"text-gray-600 mt-2\">Manage your listed items</p>\r\n              </div>\r\n              <Link\r\n                href=\"/products/create\"\r\n                className=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700\"\r\n              >\r\n                <Plus className=\"h-4 w-4 mr-2\" />\r\n                Add Product\r\n              </Link>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Messages */}\r\n          {success && (\r\n            <div className=\"mb-6 bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-md flex items-center\">\r\n              <CheckCircle className=\"h-5 w-5 mr-2\" />\r\n              {success}\r\n            </div>\r\n          )}\r\n\r\n          {error && (\r\n            <div className=\"mb-6 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md flex items-center\">\r\n              <AlertCircle className=\"h-5 w-5 mr-2\" />\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {/* Products Grid */}\r\n          {!Array.isArray(products) || products.length === 0 ? (\r\n            <div className=\"text-center py-12\">\r\n              <div className=\"text-6xl mb-4\">📦</div>\r\n              <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No products yet</h3>\r\n              <p className=\"text-gray-600 mb-6\">Start selling by creating your first product listing.</p>\r\n              <Link\r\n                href=\"/products/create\"\r\n                className=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700\"\r\n              >\r\n                <Plus className=\"h-4 w-4 mr-2\" />\r\n                Create Your First Product\r\n              </Link>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {products.map((product) => (\r\n                <div\r\n                  key={product.id}\r\n                  className={`bg-white rounded-lg shadow-md overflow-hidden ${\r\n                    !product.is_available ? 'opacity-60' : ''\r\n                  }`}\r\n                >\r\n                  {/* Product Image */}\r\n                  <div className=\"h-48 bg-gray-200 relative\">\r\n                    {product.image ? (\r\n                      <img\r\n                        src={getImageUrl(product.image)}\r\n                        alt={product.title}\r\n                        className=\"w-full h-full object-cover\"\r\n                        onError={(e) => {\r\n                          (e.target as HTMLImageElement).style.display = 'none';\r\n                        }}\r\n                      />\r\n                    ) : (\r\n                      <div className=\"w-full h-full flex items-center justify-center text-gray-400\">\r\n                        <span className=\"text-4xl\">📦</span>\r\n                      </div>\r\n                    )}\r\n                    {!product.is_available && (\r\n                      <div className=\"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-xs\">\r\n                        Unavailable\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Product Info */}\r\n                  <div className=\"p-4\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-2 line-clamp-2\">\r\n                      {product.title}\r\n                    </h3>\r\n                    <p className=\"text-gray-600 text-sm mb-2 line-clamp-2\">\r\n                      {product.description}\r\n                    </p>\r\n                    <div className=\"flex items-center justify-between mb-3\">\r\n                      <span className=\"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full capitalize\">\r\n                        {product.category}\r\n                      </span>\r\n                      <span className=\"text-lg font-bold text-green-600\">\r\n                        ${product.price}\r\n                      </span>\r\n                    </div>\r\n\r\n                    {/* Actions */}\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex space-x-2\">\r\n                        <Link\r\n                          href={`/products/${product.id}`}\r\n                          className=\"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded\"\r\n                          title=\"View Product\"\r\n                        >\r\n                          <Eye className=\"h-4 w-4\" />\r\n                        </Link>\r\n                        <Link\r\n                          href={`/products/${product.id}/edit`}\r\n                          className=\"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded\"\r\n                          title=\"Edit Product\"\r\n                        >\r\n                          <Edit className=\"h-4 w-4\" />\r\n                        </Link>\r\n                        <button\r\n                          onClick={() => handleToggleAvailability(product.id)}\r\n                          className={`p-2 rounded ${\r\n                            product.is_available\r\n                              ? 'text-orange-600 hover:text-orange-700 hover:bg-orange-50'\r\n                              : 'text-green-600 hover:text-green-700 hover:bg-green-50'\r\n                          }`}\r\n                          title={product.is_available ? 'Mark as Unavailable' : 'Mark as Available'}\r\n                        >\r\n                          {product.is_available ? (\r\n                            <EyeOff className=\"h-4 w-4\" />\r\n                          ) : (\r\n                            <Eye className=\"h-4 w-4\" />\r\n                          )}\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDelete(product.id)}\r\n                          disabled={deletingId === product.id}\r\n                          className=\"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded disabled:opacity-50\"\r\n                          title=\"Delete Product\"\r\n                        >\r\n                          <Trash2 className=\"h-4 w-4\" />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}